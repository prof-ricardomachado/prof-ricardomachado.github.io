<!DOCTYPE html>
<!--********************************************-->
<!--*       Generated from PreTeXt source      *-->
<!--*       on 2025-05-26T11:02:03-03:00       *-->
<!--*   A recent stable commit (2020-08-09):   *-->
<!--* 98f21740783f166a773df4dc83cab5293ab63a4a *-->
<!--*                                          *-->
<!--*         https://pretextbook.org          *-->
<!--*                                          *-->
<!--********************************************-->
<html lang="pt-BR">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>UFRPE-DM O Princípio da Reflexão</title>
<meta name="Keywords" content="Authored in PreTeXt">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://sagecell.sagemath.org/embedded_sagecell.js"></script><script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [['\\(','\\)']]
    },
    asciimath2jax: {
        ignoreClass: ".*",
        processClass: "has_am"
    },
    jax: ["input/AsciiMath"],
    extensions: ["asciimath2jax.js"],
    TeX: {
        extensions: ["extpfeil.js", "autobold.js", "https://pretextbook.org/js/lib/mathjaxknowl.js", "AMScd.js", ],
        // scrolling to fragment identifiers is controlled by other Javascript
        positionToHash: false,
        equationNumbers: { autoNumber: "none", useLabelIds: true, },
        TagSide: "right",
        TagIndent: ".8em",
    },
    // HTML-CSS output Jax to be dropped for MathJax 3.0
    "HTML-CSS": {
        scale: 88,
        mtextFontInherit: true,
    },
    CommonHTML: {
        scale: 88,
        mtextFontInherit: true,
    },
});
</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_CHTML-full"></script><script>$(function () {
    // Make *any* div with class 'sagecell-sage' an executable Sage cell
    // Their results will be linked, only within language type
    sagecell.makeSagecell({inputLocation: 'div.sagecell-sage',
                           linked: true,
                           languages: ['sage'],
                           evalButtonText: 'Evaluate (Sage)'});
});
</script><script xmlns:svg="http://www.w3.org/2000/svg" src="https://pretextbook.org/js/lib/jquery.min.js"></script><script xmlns:svg="http://www.w3.org/2000/svg" src="https://pretextbook.org/js/lib/jquery.sticky.js"></script><script xmlns:svg="http://www.w3.org/2000/svg" src="https://pretextbook.org/js/lib/jquery.espy.min.js"></script><script xmlns:svg="http://www.w3.org/2000/svg" src="https://pretextbook.org/js/0.13/pretext.js"></script><script xmlns:svg="http://www.w3.org/2000/svg" src="https://pretextbook.org/js/0.13/pretext_add_on.js"></script><script xmlns:svg="http://www.w3.org/2000/svg" src="https://pretextbook.org/js/lib/knowl.js"></script><!--knowl.js code controls Sage Cells within knowls--><script xmlns:svg="http://www.w3.org/2000/svg">sagecellEvalName='Evaluate (Sage)';
</script><link xmlns:svg="http://www.w3.org/2000/svg" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400italic,600,600italic" rel="stylesheet" type="text/css">
<link xmlns:svg="http://www.w3.org/2000/svg" href="https://fonts.googleapis.com/css?family=Inconsolata:400,700&amp;subset=latin,latin-ext" rel="stylesheet" type="text/css">
<link xmlns:svg="http://www.w3.org/2000/svg" href="https://pretextbook.org/css/0.31/pretext.css" rel="stylesheet" type="text/css">
<link xmlns:svg="http://www.w3.org/2000/svg" href="https://pretextbook.org/css/0.31/pretext_add_on.css" rel="stylesheet" type="text/css">
<link xmlns:svg="http://www.w3.org/2000/svg" href="https://pretextbook.org/css/0.31/banner_default.css" rel="stylesheet" type="text/css">
<link xmlns:svg="http://www.w3.org/2000/svg" href="https://pretextbook.org/css/0.31/toc_default.css" rel="stylesheet" type="text/css">
<link xmlns:svg="http://www.w3.org/2000/svg" href="https://pretextbook.org/css/0.31/knowls_default.css" rel="stylesheet" type="text/css">
<link xmlns:svg="http://www.w3.org/2000/svg" href="https://pretextbook.org/css/0.31/style_default.css" rel="stylesheet" type="text/css">
<link xmlns:svg="http://www.w3.org/2000/svg" href="https://pretextbook.org/css/0.31/colors_default.css" rel="stylesheet" type="text/css">
<link xmlns:svg="http://www.w3.org/2000/svg" href="https://pretextbook.org/css/0.31/setcolors.css" rel="stylesheet" type="text/css">
<!-- 2019-10-12: Temporary - CSS file for experiments with styling --><link xmlns:svg="http://www.w3.org/2000/svg" href="developer.css" rel="stylesheet" type="text/css">
</head>
<body class="mathbook-book has-toc has-sidebar-left">
<a class="assistive" href="#content">[skip-to-content]</a><div xmlns:svg="http://www.w3.org/2000/svg" class="hidden-content" style="display:none">\(\newcommand{\identity}{\mathrm{id}}
\newcommand{\notdivide}{{\not{\mid}}}
\newcommand{\notsubset}{\not\subset}
\newcommand{\lcm}{\operatorname{lcm}}
\newcommand{\gf}{\operatorname{GF}}
\newcommand{\inn}{\operatorname{Inn}}
\newcommand{\aut}{\operatorname{Aut}}
\newcommand{\Hom}{\operatorname{Hom}}
\newcommand{\cis}{\operatorname{cis}}
\newcommand{\chr}{\operatorname{char}}
\newcommand{\Null}{\operatorname{Null}}
\newcommand{\lt}{&lt;}
\newcommand{\gt}{&gt;}
\newcommand{\amp}{&amp;}
\)</div>
<header id="masthead" class="smallbuttons"><div class="banner"><div class="container">
<a id="logo-link" href=""></a><div class="title-container">
<h1 class="heading"><a href="indice.html"><span class="title">Análise Combinatória e Probabilidade:</span> <span class="subtitle">Com Aplicações no SageMath</span></a></h1>
<p class="byline">Ricardo Machado, Gabriel Guedes, Luiz Manoel</p>
</div>
</div></div>
<nav xmlns:svg="http://www.w3.org/2000/svg" id="primary-navbar" class="navbar"><div class="container">
<div class="navbar-top-buttons">
<button class="sidebar-left-toggle-button button active" aria-label="Show or hide table of contents sidebar">Sumário</button><div class="tree-nav toolbar toolbar-divisor-3"><span class="threebuttons"><a id="previousbutton" class="previous-button toolbar-item button" href="section-casa-pombos.html" title="Anterior">Anterior</a><a id="upbutton" class="up-button button toolbar-item" href="ocontagem.html" title="Acima">Acima</a><a id="nextbutton" class="next-button button toolbar-item" href="binomiais.html" title="Próximo">Próximo</a></span></div>
</div>
<div class="navbar-bottom-buttons toolbar toolbar-divisor-4">
<button class="sidebar-left-toggle-button button toolbar-item active">Sumário</button><a class="previous-button toolbar-item button" href="section-casa-pombos.html" title="Anterior">Anterior</a><a class="up-button button toolbar-item" href="ocontagem.html" title="Acima">Acima</a><a class="next-button button toolbar-item" href="binomiais.html" title="Próximo">Próximo</a>
</div>
</div></nav></header><div class="page">
<div xmlns:svg="http://www.w3.org/2000/svg" id="sidebar-left" class="sidebar" role="navigation"><div class="sidebar-content">
<nav id="toc"><ul>
<li class="link frontmatter">
<a href="frontmatter.html" data-scroll="frontmatter"><span class="title">Pré-textual</span></a><ul>
<li><a href="prof-ricardo-machado.html" data-scroll="prof-ricardo-machado">Sobre Ricardo Nunes Machado Junior</a></li>
<li><a href="prof-gabriel-guedes.html" data-scroll="prof-gabriel-guedes">Sobre Gabriel Araújo Guedes</a></li>
<li><a href="prof-luiz-manoel.html" data-scroll="prof-luiz-manoel">Sobre Luiz Manoel de Santana Neto</a></li>
<li><a href="preface.html" data-scroll="preface">Prefácio</a></li>
</ul>
</li>
<li class="link">
<a href="pcontagem.html" data-scroll="pcontagem"><span class="codenumber">1</span> <span class="title">Princípios de Contagem</span></a><ul>
<li><a href="section-1.html" data-scroll="section-1">Conjuntos</a></li>
<li><a href="section-note-on-proofs.html" data-scroll="section-note-on-proofs">Princípios Combinatórios</a></li>
<li><a href="section-permutacoes-simples.html" data-scroll="section-permutacoes-simples">Permutações Simples</a></li>
<li><a href="section-combinacoes-simples.html" data-scroll="section-combinacoes-simples">Combinações Simples</a></li>
<li><a href="section-permutacoes-com-repeticoes.html" data-scroll="section-permutacoes-com-repeticoes">Permutações com Repetições</a></li>
<li><a href="section-permutacoes-circulares.html" data-scroll="section-permutacoes-circulares">Permutações Circulares</a></li>
<li><a href="section-combinacoes-completas.html" data-scroll="section-combinacoes-completas">Combinações Completas</a></li>
</ul>
</li>
<li class="link">
<a href="ocontagem.html" data-scroll="ocontagem"><span class="codenumber">2</span> <span class="title">Outros Métodos de Contagem</span></a><ul>
<li><a href="section-inclusao-exclusao.html" data-scroll="section-inclusao-exclusao">Princípio da Inclusão-Exclusão</a></li>
<li><a href="section-permutacao-caotica.html" data-scroll="section-permutacao-caotica">Permutações Caóticas</a></li>
<li><a href="section-permutacao-caotica-repeticoes.html" data-scroll="section-permutacao-caotica-repeticoes">Permutações Caóticas com Repetições</a></li>
<li><a href="section-lemas-kaplansky.html" data-scroll="section-lemas-kaplansky">Os Lemas de Kaplansky</a></li>
<li><a href="section-casa-pombos.html" data-scroll="section-casa-pombos">Princípio da Casa dos Pombos</a></li>
<li><a href="section-13.html" data-scroll="section-13" class="active">O Princípio da Reflexão</a></li>
</ul>
</li>
<li class="link">
<a href="binomiais.html" data-scroll="binomiais"><span class="codenumber">3</span> <span class="title">Números Binomiais</span></a><ul>
<li><a href="section-triangulo-pascal.html" data-scroll="section-triangulo-pascal">Triângulo de Pascal</a></li>
<li><a href="section-binomio-newton.html" data-scroll="section-binomio-newton">Binômio de Newton</a></li>
<li><a href="section-polinomio-leibniz.html" data-scroll="section-polinomio-leibniz">Polinômio de Leibniz</a></li>
</ul>
</li>
<li class="link">
<a href="probabilidade.html" data-scroll="probabilidade"><span class="codenumber">4</span> <span class="title">Probabilidade</span></a><ul>
<li><a href="section-espacos-probabilidade.html" data-scroll="section-espacos-probabilidade">Espaços de Probabilidade</a></li>
<li><a href="section-probabilidade-condicional.html" data-scroll="section-probabilidade-condicional">Probabilidade Condicional</a></li>
<li><a href="section-distribuicao-binomial.html" data-scroll="section-distribuicao-binomial">Distribuição Binomial</a></li>
<li><a href="section-espaco-infinito.html" data-scroll="section-espaco-infinito">Espaço Amostral Infinito</a></li>
</ul>
</li>
<li class="link"><a href="calculadora.html" data-scroll="calculadora"><span class="codenumber">5</span> <span class="title">Calculadora</span></a></li>
<li class="link"><a href="referencias.html" data-scroll="referencias"><span class="codenumber">6</span> <span class="title">Referências Bibliográficas</span></a></li>
</ul></nav><div class="extras"><nav><a class="mathbook-link" href="https://pretextbook.org">Feito com PreTeXt</a><a href="https://www.mathjax.org"><img title="Powered by MathJax" src="https://www.mathjax.org/badge/badge.gif" alt="Powered by MathJax"></a></nav></div>
</div></div>
<main class="main"><div id="content" class="pretext-content"><section xmlns:svg="http://www.w3.org/2000/svg" class="section" id="section-13"><h2 class="heading hide-type">
<span class="type">Seção</span> <span class="codenumber">2.6</span> <span class="title">O Princípio da Reflexão</span>
</h2>
<section class="subsection" id="subsection-24"><h3 class="heading hide-type">
<span class="type">Subseção</span> <span class="codenumber">2.6.1</span> <span class="title">Passeios Sobre o Reticulado</span>
</h3>
<article class="definition definition-like" id="definition-21"><h6 class="heading">
<span class="type">Definição</span><span class="space"> </span><span class="codenumber">2.6.1</span><span class="period">.</span>
</h6>Chamaremos o plano de coordenadas inteiras de reticulado. <figure class="figure figure-like" id="fig-reflex001"><div class="image-box" style="width: 40%; margin-left: 30%; margin-right: 30%;"><img src="images/reticulado.svg" role="img" style="width: 100%; height: auto;" alt=""></div>
<figcaption><span class="type">Figura</span><span class="space"> </span><span class="codenumber">2.6.2<span class="period">.</span></span><span class="space"> </span>Um reticulado.</figcaption></figure></article><p id="p-876">Existe uma classe de problemas em análise combinatória que consiste em determinar a quantidade de caminhos de um ponto \(A(a,b)\) até \(B(c,d)\text{,}\) em um reticulado, sob algumas condições. Como por exemplo:</p>
<article class="example example-like" id="ticuladoexemplo"><h6 class="heading">
<span class="type">Exemplo</span><span class="space"> </span><span class="codenumber">2.6.3</span><span class="period">.</span>
</h6>
<p id="p-877">Uma partícula está sobre o reticulado. Ela só pode fazer dois tipos de movimentos:</p>
<ul class="disc">
<li id="li-214">Estando sobre o  ponto \((m,n)\) se move para o ponto \((m,n+1)\text{;}\)</li>
<li id="li-215">Estando sobre o  ponto \((m,n)\) se move para o ponto \((m+1,n)\text{.}\)</li>
</ul>
<p data-braille="continuation">Determine o número de caminhos da origem \(O(0,0)\) até o ponto \(A(a,b)\text{.}\)</p>
<a data-knowl="" class="id-ref solution-knowl original" data-refid="hk-solution-162" id="solution-162"><span class="type">Solução</span></a><div class="hidden-content tex2jax_ignore" id="hk-solution-162"><div class="solution solution-like">
<p id="p-878">Chamamos o primeiro tipo de movimento de "para o Norte"  e o denotaremos com uma letra \(N\text{,}\) e o segundo de "para o Leste"  e o denotaremos por uma letra \(L\text{.}\) Com esta notação, temos uma bijeção entre os caminhos dessa partícula no reticulado e os anagramas formados por \(a\) letras \(L\) e por \(b\) letras \(N\text{,}\) por meio  da seguinte associação: Toda vez que a partícula faz o movimento \((n,m)\to (n+1,m)\text{,}\) escrevemos \(L\) e toda vez que a partícula faz o movimento  \((n,m)\to (n,m+1)\text{,}\) escrevemos \(N\text{.}\)</p>
<p id="p-879">Vamos ilustrar a ideia na figura abaixo:</p>
<figure class="figure figure-like" id="fig-reflex0012"><div class="image-box" style="width: 100%; margin-left: 0%; margin-right: 0%;"><img src="images/tabela_figs.svg" role="img" style="width: 100%; height: auto;" alt=""></div>
<figcaption><span class="type">Figura</span><span class="space"> </span><span class="codenumber">2.6.4<span class="period">.</span></span><span class="space"> </span>Todos os caminhos de \(O(0,0)\) até \(A(2,2)\) e seus respectivos anagramas.</figcaption></figure><p id="p-880">Pelo princípio da bijeção, calcular a quantidade de caminhos no reticulado do ponto \(O(0,0)\) até o ponto \(A(a,b)\) é o mesmo que calcular o número de anagramas com \(a\) letras \(L's\) repetidas e \(b\) letras \(N's\) repetidas, o que é obtido calculando</p>
<div class="displaymath">
\begin{equation*}
PR_{a+b}^{a,b}=\dfrac{(a+b)!}{a!b!} = \displaystyle C_{a+b}^{a}\text{.}
\end{equation*}
</div>
</div></div></article></section><section class="subsection" id="subsection-25"><h3 class="heading hide-type">
<span class="type">Subseção</span> <span class="codenumber">2.6.2</span> <span class="title">O Princípio da Reflexão</span>
</h3>
<section class="introduction" id="introduction-6">O princípio da reflexão é uma ideia geométrica aplicada na contagem de caminhos no reticulado com a restrição de não poder ultrapassar uma determinada reta. Dentre as variadas aplicações deste princípio, temos o problema do troco na fila de cinema (<a class="xref" data-knowl="./knowl/ex-troco.html" title="Exercício 2.6.4.4">Exercício 2.6.4.4</a>) e o problema da eleição de André (<a class="xref" data-knowl="./knowl/ex-candidatos.html" title="Exercício 2.6.4.5">Exercício 2.6.4.5</a>). Outra aplicação notável, é a dedução dos Números de Catalan, por meio de um caso particular deste princípio.</section><article class="definition definition-like" id="definition-22"><h6 class="heading">
<span class="type">Definição</span><span class="space"> </span><span class="codenumber">2.6.5</span><span class="period">.</span>
</h6>
<p id="p-881"><em class="emphasis">O princípio da reflexão</em> consiste em determinar o número de caminhos da origem \(O(0,0)\) até o ponto \(A(n,k)\text{,}\) de modo que os caminhos fiquem sempre abaixo da diagonal \(y=x\text{,}\) isto é, eles podem tocar, mas não podem cruzar.</p></article><article class="definition definition-like" id="definition-23"><h6 class="heading">
<span class="type">Definição</span><span class="space"> </span><span class="codenumber">2.6.6</span><span class="period">.</span>
</h6>
<p id="p-882">Chamamos de <em class="emphasis">caminho bom</em> no reticulado, se o caminho não cruza a diagonal, e de <em class="emphasis">caminho ruim</em> se o caminho cruza a diagonal. Veja um exemplo de cada tipo na <a class="xref" data-knowl="./knowl/fig-reflex001.html" title="Figura 2.6.2">Figura 2.6.2</a>, na <a class="xref" data-knowl="./knowl/reflexao_prev.html" title="Figura 2.6.11.(a)">Figura 2.6.11.(a)</a> e na <a class="xref" data-knowl="./knowl/reflexao.html" title="Figura 2.6.11.(b)">Figura 2.6.11.(b)</a>.</p>
<figure class="figure figure-like" id="fig-reflex001"><div class="image-box" style="width: 50%; margin-left: 25%; margin-right: 25%;"><img src="images/reflexao001.svg" role="img" style="width: 100%; height: auto;" alt=""></div>
<figcaption><span class="type">Figura</span><span class="space"> </span><span class="codenumber">2.6.7<span class="period">.</span></span><span class="space"> </span>Um exemplo de caminho bom.</figcaption></figure></article><article class="definition definition-like" id="def-reflexãor1"><h6 class="heading">
<span class="type">Definição</span><span class="space"> </span><span class="codenumber">2.6.8</span><span class="period">.</span>
</h6>
<p id="p-883">Seja \(R_1\) a reflexão dos pontos de um reticulado em relação à reta \(y=x+1\text{,}\) observe que \(R_1* P(r, s) = Q(s-1,r+1)\text{.}\) Na <a class="xref" data-knowl="./knowl/reflex_segmento.html" title="Figura 2.6.9">Figura 2.6.9</a>, veja que a reflexão \(R_1\) leva a seta que liga \(P(2,2)\) à \(\tilde{P}(3,2)\) na seta que liga \(Q(1,3)\) à \(\tilde{Q}(1,4)\text{.}\)</p>
<figure class="figure figure-like" id="reflex_segmento"><div class="image-box" style="width: 60%; margin-left: 20%; margin-right: 20%;"><img src="images/reflexao01.svg" role="img" style="width: 100%; height: auto;" alt=""></div>
<figcaption><span class="type">Figura</span><span class="space"> </span><span class="codenumber">2.6.9<span class="period">.</span></span><span class="space"> </span>Exemplo da reflexão \(R_1\text{.}\)</figcaption></figure></article><article class="proposition theorem-like" id="prop1"><h6 class="heading">
<span class="type">Proposição</span><span class="space"> </span><span class="codenumber">2.6.10</span><span class="period">.</span>
</h6>
<p id="p-884">A quantidade de <dfn class="terminology">caminhos ruins</dfn> de \(O(0,0)\) até \(A(n,k)\) é igual ao número total de caminhos de \(O(0,0)\) até \(B(k-1,n+1)\text{.}\)</p></article><article class="hiddenproof" id="proof-28"><a data-knowl="" class="id-ref proof-knowl original" data-refid="hk-proof-28"><h6 class="heading"><span class="type">Demonstração<span class="period">.</span></span></h6></a></article><div class="hidden-content tex2jax_ignore" id="hk-proof-28"><article class="hiddenproof"><p id="p-885">Seja \(C_1\) o conjunto dos <em class="emphasis">caminhos ruins</em>  de \(O\) até \(A\) e \(C_2\) o conjunto dos caminhos de \(O\) até \(B\text{.}\) Primeiramente, observe que se \(k&gt;n\text{,}\) o ponto A estaria acima da diagonal \(y=x\text{,}\) então não haveria caminhos bons, só os ruins. Logo, vamos supor que \(k\leq n\text{.}\)</p>
<p id="p-886">Seja \(P\) um caminho ruim de \(O\) até \(A\text{,}\) isto é, \(P\in C_1\text{,}\) como ele é um caminho ruim, por definição, esse caminho cruza a reta \(y=x\) pelo menos uma vez. Aplicando a reflexão \(R_1\) aos pontos de \(P\text{,}\) após o primeiro cruzamento, obtemos um caminho de \(O\) até \(B\text{.}\) Como \(P\) é um caminho arbitrário, concluímos que cada caminho de \(C_1\) é levado, dessa maneira, em um caminho de \(C_2\text{,}\) logo \(\#C_1\leq\#C_2\text{.}\)</p>
<p id="p-887">Veja um exemplo na <a class="xref" data-knowl="./knowl/reflexao_prev.html" title="Figura 2.6.11.(a)">Figura 2.6.11.(a)</a> e na <a class="xref" data-knowl="./knowl/reflexao.html" title="Figura 2.6.11.(b)">Figura 2.6.11.(b)</a>  abaixo.</p>
<figure class="figure figure-like" id="figure-45"><div class="sidebyside"><div class="sbsrow" style="margin-left:0%;margin-right:0%;">
<div class="sbspanel" style="width:50%;justify-content:flex-start;"><figure class="figure figure-like" id="reflexao_prev"><img src="images/reflexao_prev.svg" role="img" style="width: 100%; height: auto;" alt=""><figcaption><span class="codenumber">(a)</span><span class="space"> </span>Exemplo de caminho ruim.</figcaption></figure></div>
<div class="sbspanel" style="width:50%;justify-content:flex-start;"><figure class="figure figure-like" id="reflexao"><img src="images/reflexao.svg" role="img" style="width: 100%; height: auto;" alt=""><figcaption><span class="codenumber">(b)</span><span class="space"> </span>Caminho ruim em laranja e sua respectiva reflexão em verde.</figcaption></figure></div>
</div></div>
<figcaption><span class="type">Figura</span><span class="space"> </span><span class="codenumber">2.6.11<span class="period">.</span></span><span class="space"> </span>Exemplos de caminhos.</figcaption></figure><p id="p-888">Reciprocamente, tomando um caminho \(Q\) de \(O\) até \(B\text{,}\) isto é \(Q\in C_2\text{,}\) ele necessariamente toca na diagonal \(y=x+1\text{,}\) uma vez que a ordenada de \(B\) é maior que a abscissa. Aplicando a reflexão \(R_1\text{,}\) a partir do primeiro cruzamento em relação à reta \(y=x+1\text{,}\) obtemos um caminho que termina em A. Ou seja, verificamos que todo caminho de \(C_2\) é levado em um caminho de \(C_1\text{.}\) Portanto, \(\#C_2\leq\#C_1\text{.}\)</p>
<p id="p-889">Da propriedade da tricotomia dos números reais, se \(\#C_1\leq\#C_2\) e \(\#C_2\leq\#C_1\text{,}\) concluímos que \(\#C_1=\#C_2\text{.}\)</p></article></div>
<article class="proposition theorem-like" id="prop2"><h6 class="heading">
<span class="type">Proposição</span><span class="space"> </span><span class="codenumber">2.6.12</span><span class="period">.</span>
</h6>
<p id="p-890">A quantidade de caminhos ruins de \(O\) até \(A(n,k)\) é \(C_{n+k}^{n+1}.\)</p></article><article class="hiddenproof" id="proof-29"><a data-knowl="" class="id-ref proof-knowl original" data-refid="hk-proof-29"><h6 class="heading"><span class="type">Demonstração<span class="period">.</span></span></h6></a></article><div class="hidden-content tex2jax_ignore" id="hk-proof-29"><article class="hiddenproof"><p id="p-891">Pela <a class="xref" data-knowl="./knowl/prop1.html" title="Proposição 2.6.10">Proposição 2.6.10</a>, o número de caminhos ruins de \(O(0,0)\) até \(A(n,k)\) é igual à quantidade de caminhos de \(O(0,0)\) até \(B(k-1,n+1)\text{,}\) sem restrições, ou seja, é o número de anagramas com os L's repetidos \(k-1\) vezes  e os N's  repetidos \(n+1\) vezes, que pode ser calculado por</p>
<div class="displaymath">
\begin{equation*}
PR_{k-1+n+1}^{k-1, n+1} = \frac{(k-1+n+1)!}{(k-1)!(n+1)!} = \frac{(n+k)!}{(n+1)!(k-1)!} =C_{n+k}^{n+1},
\end{equation*}
</div>
<p data-braille="continuation">como queríamos demonstrar.</p></article></div>
<article class="theorem theorem-like" id="teo-reflexao"><h6 class="heading">
<span class="type">Teorema</span><span class="space"> </span><span class="codenumber">2.6.13</span><span class="period">.</span><span class="space"> </span><span class="title">(Princípio da Reflexão).</span>
</h6>
<p id="p-892">Sejam \(n,k\in\mathbb{Z}^+\) com \(n&gt;k\text{.}\) A quantidade de caminhos da origem \(O(0,0)\) até o ponto \(A(n,k)\) que ficam abaixo da reta \(y=x\) é dada por</p>
<div class="displaymath">
\begin{equation*}
\frac{n-k+1}{n+1}C_{n+k}^{n}.
\end{equation*}
</div></article><article class="hiddenproof" id="proof-30"><a data-knowl="" class="id-ref proof-knowl original" data-refid="hk-proof-30"><h6 class="heading"><span class="type">Demonstração<span class="period">.</span></span></h6></a></article><div class="hidden-content tex2jax_ignore" id="hk-proof-30"><article class="hiddenproof"><p id="p-893">Queremos calcular a quantidade de caminhos bons da origem \(O(0,0)\)  até o ponto \(A(n,k)\text{.}\) Para tanto, vamos calcular o total e subtrair o número de caminhos ruins. O total de caminhos é dado por \(PR_{n+k}^{n, k}=C_{n+k}^{n}\text{.}\) E pela <a class="xref" data-knowl="./knowl/prop2.html" title="Proposição 2.6.12">Proposição 2.6.12</a>, sabemos que o número de caminhos ruins é dado por \(C_{n+k}^{n+1}\text{.}\) Assim,</p>
<div class="displaymath">
\begin{equation*}
C_{n+k}^{n}-C_{n+k}^{n+1}=\frac{n-k+1}{n+1}C_{n+k}^{n}.
\end{equation*}
</div></article></div>
<article class="technology computation-like" id="tec-permutacao-circular"><h6 class="heading">
<span class="type">Tecnologia</span><span class="space"> </span><span class="codenumber">2.6.14</span><span class="period">.</span>
</h6>
<p id="p-894">Abaixo, definimos uma função, que calcula o número de caminhos bons do ponto \(O(0,0)\) até o ponto \(A(n,k)\text{.}\)</p>
<div class="sagecell-sage" id="sage-39"><script type="text/x-sage">def num_caminhos_bons(n,k):
    if n>=k:
        return ((n-k+1)/(n+1))*binomial(n+k, n)
    else:
        return 0
num_caminhos_bons(5,3)
</script></div></article><article class="technology computation-like" id="technology-40"><h6 class="heading">
<span class="type">Tecnologia</span><span class="space"> </span><span class="codenumber">2.6.15</span><span class="period">.</span>
</h6>
<p id="p-895">Digite uma posição no reticulado e clique no botão "Update" para gerar um reticulado, um caminho aleatório e caso esse caminho seja ruim, obtenha também a reflexão deste caminho em relação a reta \(y=x+1\text{,}\) a partir do primeiro ponto que toca nessa reta.</p>
<figure class="figure figure-like" id="figure-48"><iframe id="interactive-reflexao2" width="600" height="780" src="interactive-reflexao2-if.html"></iframe><figcaption><span class="type">Figura</span><span class="space"> </span><span class="codenumber">2.6.16<span class="period">.</span></span><span class="space"> </span>Reticulado, caminho aleatório e respectiva reflexão.</figcaption></figure></article></section><section class="subsection" id="subsection-26"><h3 class="heading hide-type">
<span class="type">Subseção</span> <span class="codenumber">2.6.3</span> <span class="title">Números de Catalan</span>
</h3>
<section class="introduction" id="introduction-7">Os Números de Catalan, que foram nosso fio condutor até aqui, são muitos profícuos em análise combinatória, modelando uma gama enorme de problemas, por exemplo, a referência <a class="xref" data-knowl="./knowl/stanley.html" title="[biblio] 6.12: Catalan numbers.">[6.12]</a> apresenta 214 tipos diferentes de configurações combinatórias que podem ser contados usando Números de Catalan. Destacamos também, não só a variedade de problemas que são modelados por estes números, mais a versatilidade de temas que podem ser apresentados com eles, como por exemplo as funções geradoras, relações de recorrências, semi-ordem e muito mais. Para o leitor interessado, recomendamos as referências <a class="xref" data-knowl="./knowl/koshy2008catalan.html" title="[biblio] 6.10: Catalan Numbers With Applications.">[6.10]</a>, <a class="xref" data-knowl="./knowl/roman.html" title="[biblio] 6.11: An Introduction to Catalan Numbers.">[6.11]</a> e <a class="xref" data-knowl="./knowl/stanley.html" title="[biblio] 6.12: Catalan numbers.">[6.12]</a>.</section><article class="definition definition-like" id="definition-25"><h6 class="heading">
<span class="type">Definição</span><span class="space"> </span><span class="codenumber">2.6.17</span><span class="period">.</span>
</h6>
<p id="p-896">No <a class="xref" data-knowl="./knowl/teo-reflexao.html" title="Teorema 2.6.13: (Princípio da Reflexão)">Teorema 2.6.13</a> (Princípio da Reflexão), o caso particular em que \(k=n\) é conhecido como números de Catalan, ou seja, os números</p>
<div class="displaymath">
\begin{equation*}
C_n=\displaystyle\frac{1}{n+1}C_{2n}^n,
\end{equation*}
</div>
<p data-braille="continuation">são conhecidos como números de Catalan (ou Catalão).</p></article><article class="technology computation-like" id="tec-permutacao-circular"><h6 class="heading">
<span class="type">Tecnologia</span><span class="space"> </span><span class="codenumber">2.6.18</span><span class="period">.</span>
</h6>
<p id="p-897">O Sage possui um método específico para calcular os números de Catalan. Basta escolher o valor de \(n\) e usar o método conforme o código a seguir.</p>
<div class="sagecell-sage" id="sage-40"><script type="text/x-sage">catalan_number(7)
</script></div></article><article class="example example-like" id="catalanporseqs"><h6 class="heading">
<span class="type">Exemplo</span><span class="space"> </span><span class="codenumber">2.6.19</span><span class="period">.</span>
</h6>
<p id="p-898">Anteriormente, no <a class="xref" data-knowl="./knowl/ticuladoexemplo.html" title="Exemplo 2.6.3">Exemplo 2.6.3</a>, vimos a bijeção entre os caminhos da origem até o ponto \(A(a,b)\text{,}\) com os anagramas formados por \(a\) letras \(L\) e \(b\) letras \(N\text{.}\) Neste momento, é natural perguntar: Qual é a relação entre estes anagramas e os números de Catalan?</p>
<a data-knowl="" class="id-ref solution-knowl original" data-refid="hk-solution-163" id="solution-163"><span class="type">Solução</span></a><div class="hidden-content tex2jax_ignore" id="hk-solution-163"><div class="solution solution-like"><p id="p-899">Apresentamos os números de Catalan como a quantidade de caminhos da origem até o ponto \(A(n,n)\) de maneira que cada um desses caminhos nunca ultrapasse a diagonal \(y=x\text{,}\) ou seja, a cada momento a quantidade de movimentos "para o norte"  deve ser sempre menor ou igual que a quantidade de movimentos "para o leste". Assim, por meio da bijeção já apresentada no <a class="xref" data-knowl="./knowl/ticuladoexemplo.html" title="Exemplo 2.6.3">Exemplo 2.6.3</a>, concluímos que um caminho que é solução do problema de Catalan para o reticulado está associado aos anagramas com \(n\) letras \(L\) e \(n\) letras \(N\) de modo que ao lermos da esquerda para a direita a cada momento, a quantidade de letras \(L\) será maior ou igual a quantidade de letras \(N\text{.}\) Vejamos que para \(n=3\text{,}\) o anagrama  \(LLNLNN\) é uma palavra válida para o problema de Catalan, enquanto \(LNNLNL\) não é válida.</p></div></div></article><article class="example example-like" id="ex-dyckway"><h6 class="heading">
<span class="type">Exemplo</span><span class="space"> </span><span class="codenumber">2.6.20</span><span class="period">.</span>
</h6>
<p id="p-900">Um caminho de Dyck é um caminho de comprimento \(2n\text{,}\) no plano cartesiano, do ponto \((0, 0)\) ao ponto \((2n, 0)\text{.}\) No qual, em cada passo, saímos do ponto \((m,n)\) para \((m+1, n+1)\) ou \((m+1, n-1)\text{,}\) com a condição adicional de que o caminho nunca fica abaixo do eixo \(x\text{.}\) Quantos são os caminhos de Dyck?</p>
<a data-knowl="" class="id-ref solution-knowl original" data-refid="hk-solution-164" id="solution-164"><span class="type">Solução</span></a><div class="hidden-content tex2jax_ignore" id="hk-solution-164"><div class="solution solution-like">Observe que se a cada passo de \((m,n)\) para \((m+1, n+1)\) associarmos uma letra "L" e a cada passo de \((m,n)\) para \((m+1, n-1)\) associarmos uma letra "N", temos uma associação dos caminhos de Dyck com os anagramas do <a class="xref" data-knowl="./knowl/catalanporseqs.html" title="Exemplo 2.6.19">Exemplo 2.6.19</a> que acabamos de ver. O qual tem sua cardinalidade determinada pelos números de Catalan.</div></div></article><article class="technology computation-like" id="tec-permutacao-circular"><h6 class="heading">
<span class="type">Tecnologia</span><span class="space"> </span><span class="codenumber">2.6.21</span><span class="period">.</span>
</h6>
<p id="p-901">Os caminhos de Dyck podem ser plotados no Sage, basta usar o método <dfn class="terminology">DyckWord</dfn>, tendo como entrada uma lista de zeros e uns, na qual cada 1 representa um passo de \((m,n)\) para \((m+1, n+1)\) e cada 0 representa um passo de \((m,n)\) para \((m+1, n-1)\text{.}\) Além disso, é necessário adicionar o comando <dfn class="terminology">.plot()</dfn> para que o Sage retorne o respectivo caminho de Dyck. No exemplo a seguir o parâmetro <dfn class="terminology">aspect_ratio=1</dfn> foi adicionado apenas para que os eixos fiquem com a mesma proporção.</p>
<div class="sagecell-sage" id="sage-41"><script type="text/x-sage">DyckWord([1, 0, 1, 1, 0, 1, 0, 0]).plot(aspect_ratio=1)
</script></div></article></section><section class="exercises" id="exercises-12"><h3 class="heading hide-type">
<span class="type">Exercícios</span> <span class="codenumber">2.6.4</span> <span class="title">Exercícios</span>
</h3>
<article class="exercise exercise-like" id="exercise-117"><h6 class="heading"><span class="codenumber">1<span class="period">.</span></span></h6>
<p id="p-902">Existem valores de \(n\) e \(k\) tais que a quantidade de caminhos bons é igual ao número de caminhos ruins?</p>
<a data-knowl="" class="id-ref answer-knowl original" data-refid="hk-answer-113" id="answer-113"><span class="type">Resposta</span></a><div class="hidden-content tex2jax_ignore" id="hk-answer-113"><div class="answer solution-like"><p id="p-903">Sim, \(n=2k-1\text{.}\)</p></div></div>
<a data-knowl="" class="id-ref solution-knowl original" data-refid="hk-solution-165" id="solution-165"><span class="type">Solução</span></a><div class="hidden-content tex2jax_ignore" id="hk-solution-165"><div class="solution solution-like">
<p id="p-904">Basta igualar o número de caminhos bons com o número de caminhos ruins e encontrar \(n\) em função de \(k\text{.}\) Então,</p>
<div class="displaymath">
\begin{align*}
\frac{n-k+1}{n+1}C_{n+k}^{n}=\amp~C_{n+k}^{n+1}\\
\frac{(n-k+1)}{n+1}\cdot \frac{(n+k)!}{n!k!} = \amp~ \frac{(n+k)!}{(n+1)!(k-1)!}\\
\frac{(n-k+1)}{(n+1)!k(k-1)!}=\amp~\frac{1}{(n+1)!(k-1)!}\\
n-k+1=\amp~k\\
n=2k-1.
\end{align*}
</div>
</div></div></article><article class="exercise exercise-like" id="exer-reflex-i"><h6 class="heading"><span class="codenumber">2<span class="period">.</span></span></h6>
<p id="p-905">Seja \(R_i\) a reflexão dos pontos de um reticulado em relação à reta \(y=x+i\text{.}\) Determine a refexão \(R_i\) e justifique.</p>
<a data-knowl="" class="id-ref answer-knowl original" data-refid="hk-answer-114" id="answer-114"><span class="type">Resposta</span></a><div class="hidden-content tex2jax_ignore" id="hk-answer-114"><div class="answer solution-like"><p id="p-906">\(R_i*A(r,s) = B(s-i, r+i)\text{.}\)</p></div></div>
<a data-knowl="" class="id-ref solution-knowl original" data-refid="hk-solution-166" id="solution-166"><span class="type">Solução</span></a><div class="hidden-content tex2jax_ignore" id="hk-solution-166"><div class="solution solution-like">
<p id="p-907">Para encontrar a reflexão \(R_i\text{,}\) podemos encontrar a projeção de um ponto arbitrário \(A(r,s)\) na reta \(y=x+i\text{,}\) em seguida aplicamos uma translação, na vertical ou na horizontal. O sentido do deslocamento dependerá do caso e o total transladado será igual a distância entre o ponto original e a projeção do ponto na reta.</p>
<div class="sidebyside"><div class="sbsrow" style="margin-left:5%;margin-right:5%;">
<div class="sbspanel" style="width:44.4444444444444%;justify-content:flex-end;"><figure class="figure figure-like" id="fig-reflexao-i"><img src="images/reflexao_i.svg" role="img" style="width: 100%; height: auto;" alt=""><figcaption><span class="type">Figura</span><span class="space"> </span><span class="codenumber">2.6.22<span class="period">.</span></span><span class="space"> </span>Reflexão \(R_i\) com \(s\lt r\text{.}\)</figcaption></figure></div>
<div class="sbspanel" style="width:44.4444444444444%;justify-content:flex-end;"><figure class="figure figure-like" id="fig-reflexao-i2"><img src="images/reflexao_i2.svg" role="img" style="width: 100%; height: auto;" alt=""><figcaption><span class="type">Figura</span><span class="space"> </span><span class="codenumber">2.6.23<span class="period">.</span></span><span class="space"> </span>Reflexão \(R_i\) com \(s&gt;r\text{.}\)</figcaption></figure></div>
</div></div>
<p id="p-908"><dfn class="terminology">Caso \(s\lt r:\)</dfn> Fazemos a interseção da reta \(y=s\) com a reta \(y=x+i\) e obtemos \(x=s-i\text{.}\) Agora, transladamos o ponto \(C(s-i, s)\) verticalmente no total de \(r-s+i\) unidades para cima. A reflexão é dada por \(R_i*A(r,s) = B(s-i, r+i)\text{.}\)</p>
<p id="p-909"><dfn class="terminology">Caso \(s&gt;r:\)</dfn> Fazemos a interseção da reta \(x=r\) com a reta \(y=x+i\) e obtemos \(y=r+i\text{.}\) Agora, transladamos o ponto \(C(r, r+i)\) horizontalmente no total de \(s-r-i\) unidades para direita. A reflexão é dada por \(R_i*A(r,s) = B(s-i, r+i)\text{.}\)</p>
<p id="p-910"><dfn class="terminology">Caso \(s=r:\)</dfn> Basta observar que \(R_i*A(s,s+i) = B(s, s+i)\text{,}\) ou seja, os pontos da reta \(y=x+i\) são pontos fixos.</p>
<p id="p-911">Ligando os pontos \(A, B, C\text{,}\) obtemos um triângulo isósceles na qual, a reta \(y=x+i\) contém a bissetriz do ângulo \(A\widehat{C}B\text{.}\) Portanto, \(R_i*A(r,s) = B(s-i, r+i)\) é de fato a reflexão procurada.</p>
</div></div></article><article class="exercise exercise-like" id="exer-pr-y=x"><h6 class="heading"><span class="codenumber">3<span class="period">.</span></span></h6>
<p id="p-912">Refaça o princípio da reflexão no caso em que  os caminhos não possam nem tocar a diagonal \(y=x\text{.}\)</p>
<a data-knowl="" class="id-ref solution-knowl original" data-refid="hk-solution-167" id="solution-167"><span class="type">Solução</span><span class="space"> </span><span class="codenumber">1</span></a><div class="hidden-content tex2jax_ignore" id="hk-solution-167"><div class="solution solution-like">
<p id="p-913"><dfn class="terminology">Quantidade total de caminhos:</dfn> A quantidade de caminhos da origem até o ponto \(A(n,k)\) é</p>
<div class="displaymath">
\begin{equation*}
PR_{n+k}^{n, k}=C_{n+k}^{n}.
\end{equation*}
</div>
<p id="p-914"><dfn class="terminology">Quantidade de caminhos ruins:</dfn> Note que o ponto \(O(0,0)\) pertence a reta \(y=x\text{.}\) Logo, precisamos ajustar nosso conceito de caminho ruim. Vamos considerar que um caminho é ruim se ele toca na reta \(y=x\text{,}\) mas o ponto de interseção é diferente do ponto \(O(0,0)\text{.}\) Assim, podemos classificar os caminhos ruins em dois tipos.</p>
<ul class="disc">
<li id="li-216">1º Tipo: o caminho vai do ponto \(O(0,0)\) até o ponto \(A(n,k)\) com o primeiro passo para cima. Assim, para contar o número desses caminhos, basta contar o número de caminhos do ponto \(Q(0,1)\) até o ponto \(A(n,k)\text{:}\)<div class="displaymath">
\begin{equation*}
PR_{n+k-1}^{n,k-1}.
\end{equation*}
</div>
</li>
<li id="li-217">2º Tipo: o caminho vai do ponto \(O(0,0)\) até o ponto \(R_0*A(n,k)=B(k,n)\) com o primeiro passo para a direita. Para contar o número desses caminhos, basta contar o número de caminhos do ponto \(P(1,0)\) até o ponto \(B(k,n)\text{:}\)<div class="displaymath">
\begin{equation*}
PR_{n+k-1}^{k-1, n}.
\end{equation*}
</div>
</li>
</ul>
<p data-braille="continuation"><div class="sidebyside"><div class="sbsrow" style="margin-left:5%;margin-right:5%;">
<div class="sbspanel" style="width:44.4444444444444%;justify-content:flex-end;"><figure class="figure figure-like" id="fig-reflexao-r1"><img src="images/reflexao_r1.svg" role="img" style="width: 100%; height: auto;" alt=""><figcaption><span class="type">Figura</span><span class="space"> </span><span class="codenumber">2.6.24<span class="period">.</span></span><span class="space"> </span>Um caminho ruim do 1º Tipo.</figcaption></figure></div>
<div class="sbspanel" style="width:44.4444444444444%;justify-content:flex-end;"><figure class="figure figure-like" id="fig-reflexao-r2"><img src="images/reflexao_r2.svg" role="img" style="width: 100%; height: auto;" alt=""><figcaption><span class="type">Figura</span><span class="space"> </span><span class="codenumber">2.6.25<span class="period">.</span></span><span class="space"> </span>Um caminho ruim do 2º Tipo.</figcaption></figure></div>
</div></div></p>
<p id="p-915">Portanto, pelo Princípio Aditivo, o total de caminhos ruins é dado por</p>
<div class="displaymath">
\begin{equation*}
PR_{n+k-1}^{n,k-1}+PR_{n+k-1}^{k-1, n} = 2\cdot PR_{n+k-1}^{n,k-1}=2\cdot C_{n+k-1}^n.
\end{equation*}
</div>
<p id="p-916"><dfn class="terminology">Quantidade de caminhos bons:</dfn> Para contar o número de caminhos bons, basta calcular a diferença entre o número total de caminhos e o número total de caminhos ruins:</p>
<div class="displaymath">
\begin{equation*}
PR_{n+k}^{n, k} - 2\cdot PR_{n+k-1}^{n,k-1} = \frac{n-k}{k}\cdot C_{n+k-1}^n.
\end{equation*}
</div>
</div></div>
<a data-knowl="" class="id-ref solution-knowl original" data-refid="hk-solution-168" id="solution-168"><span class="type">Solução</span><span class="space"> </span><span class="codenumber">2</span></a><div class="hidden-content tex2jax_ignore" id="hk-solution-168"><div class="solution solution-like">
<p id="p-917"><dfn class="terminology">Quantidade total de caminhos:</dfn> A quantidade de caminhos da origem até o ponto \(A(n,k)\) é</p>
<div class="displaymath">
\begin{equation*}
PR_{n+k}^{n, k}=C_{n+k}^{n}.
\end{equation*}
</div>
<p id="p-918"><dfn class="terminology">Quantidade de caminhos bons:</dfn> Observe que a reflexão será em relação a reta \(y=x\text{,}\) portanto a reflexão será \(R_0*A(n,k)=B(k,n)\text{.}\) Assim, para um caminho ser bom, ele precisa dar o primeiro passo para a direita, mas nem todo caminho que dá o primeiro passo para a direita é um caminho bom.</p>
<div class="sidebyside"><div class="sbsrow" style="margin-left:5%;margin-right:5%;">
<div class="sbspanel" style="width:44.4444444444444%;justify-content:flex-end;"><figure class="figure figure-like" id="fig-reflexao-01"><img src="images/reflexao02.svg" role="img" style="width: 100%; height: auto;" alt=""><figcaption><span class="type">Figura</span><span class="space"> </span><span class="codenumber">2.6.26<span class="period">.</span></span><span class="space"> </span>Um caminho bom, partindo do ponto \(P(1,0)\text{.}\)</figcaption></figure></div>
<div class="sbspanel" style="width:44.4444444444444%;justify-content:flex-end;"><figure class="figure figure-like" id="fig-reflexao-02"><img src="images/reflexao0.svg" role="img" style="width: 100%; height: auto;" alt=""><figcaption><span class="type">Figura</span><span class="space"> </span><span class="codenumber">2.6.27<span class="period">.</span></span><span class="space"> </span>Um caminho ruim, partindo do ponto \(P(1,0)\text{.}\)</figcaption></figure></div>
</div></div>
<p id="p-919">Para contar os caminhos bons, vamos contar todos os caminhos que iniciam no ponto \(P(1,0)\) e chegam no ponto \(A(n,k)\text{,}\) depois vamos contar todos os caminhos ruins que iniciam no ponto \(P(1,0)\) e também chegam no ponto \(A(n,k)\text{.}\) A diferença entre essas quantidades será o número de caminhos bons.</p>
<ul class="disc">
<li id="li-218">O número de caminhos de \(P(1,0)\) até \(A(n,k)\) é<div class="displaymath">
\begin{equation*}
PR_{n+k-1}^{n-1, k} = C_{n+k-1}^{n-1}.
\end{equation*}
</div>
</li>
<li id="li-219">O número de caminhos ruins de \(P(1,0)\) até \(A(n,k)\) é igual ao número de caminhos de \(P(1,0)\) até \(R_0*A(n,k)=B(k,n)\text{,}\) ou seja,<div class="displaymath">
\begin{equation*}
PR_{n+k-1}^{k-1, n} = C_{n+k-1}^n.
\end{equation*}
</div>
</li>
</ul>
<p data-braille="continuation">Finalmente, o número de caminhos bons de \(P(1,0)\) até \(A(n,k)\) é igual a</p>
<div class="displaymath">
\begin{equation*}
C_{n+k-1}^{n-1} - C_{n+k-1}^n = \frac{n-k}{k}\cdot C_{n+k-1}^n.
\end{equation*}
</div>
<p id="p-920"><dfn class="terminology">Quantidade de caminhos ruins:</dfn> A quantidade de caminhos ruins de \(P(1,0)\) até \(A(n,k)\) é igual a quantidade total de caminhos, menos a quantidade de caminhos bons:</p>
<div class="displaymath">
\begin{equation*}
C_{n+k}^n - \frac{n-k}{k}\cdot C_{n+k-1}^n = 2C_{n+k-1}^n.
\end{equation*}
</div>
</div></div></article><article class="exercise exercise-like" id="ex-troco"><h6 class="heading"><span class="codenumber">4<span class="period">.</span></span></h6>
<p id="p-921">Numa fila de cinema, \(m\) pessoas têm notas de \(R$ 5,00\) e \(n\) pessoas têm notas de \(R$10,00\text{,}\) com \(n\lt m\text{.}\) A entrada custa \(R$5,00\text{.}\)</p>
<ol class="lower-alpha">
<li id="li-220">Quais são as filas possíveis?</li>
<li id="li-221">Quantas são as filas que terão problemas de troco se a bilheteria começar a trabalhar sem troco?</li>
<li id="li-222">Quantas são as filas que terão problemas de troco se a bilheteria começar a trabalhar com duas notas de \(R$5,00\text{?}\)</li>
</ol>
<a data-knowl="" class="id-ref answer-knowl original" data-refid="hk-answer-115" id="answer-115"><span class="type">Resposta</span></a><div class="hidden-content tex2jax_ignore" id="hk-answer-115"><div class="answer solution-like"><ol id="p-922" class="lower-alpha">
<li id="li-223">\(\displaystyle (m+n)!\)</li>
<li id="li-224">\(\displaystyle m!\times n!\times C_{m+n}^{m+1}\)</li>
<li id="li-225">\(\displaystyle m!\times n! \times C_{m+n}^{m+3}\)</li>
</ol></div></div>
<a data-knowl="" class="id-ref solution-knowl original" data-refid="hk-solution-169" id="solution-169"><span class="type">Solução</span></a><div class="hidden-content tex2jax_ignore" id="hk-solution-169"><div class="solution solution-like"><ol id="p-923" class="lower-alpha">
<li id="li-226">O número de filas possíveis é o número de maneiras de ordenar \(m+n\) pessoas, ou seja, é \((m+n)!\text{.}\)</li>
<li id="li-227">Considere um reticulado, na qual o eixo \(x\) é referente as pessoas notas de \(R$5,00\) e o eixo \(y\) é referente as pessoas com notas de \(R$10,00\text{.}\) Pela <a class="xref" data-knowl="./knowl/prop2.html" title="Proposição 2.6.12">Proposição 2.6.12</a>, o número de maneiras escolher as posições das pessoas com notas de \(R$5,00\) e de \(R$10,00\) é \(C_{m+n}^{m+1}\text{.}\) Uma vez feita essa escolha, podemos ordenar as pessoas de \(m!\times n!\) maneiras. Logo, no total, o número de filas que terão problemas de troco é<div class="displaymath">
\begin{equation*}
m!\times n!\times C_{m+n}^{m+1}\text{.}
\end{equation*}
</div>
</li>
<li id="li-228">Basta aplicar a mesma ideia do item anterior, mas com a reflexão \(R_3*P(m,n)=Q(n-3, m+3)\text{,}\) deduzida do <a class="xref" data-knowl="./knowl/exer-reflex-i.html" title="Exercício 2.6.4.2">Exercício 2.6.4.2</a>. Utilizando a mesma ideia da <a class="xref" data-knowl="./knowl/prop2.html" title="Proposição 2.6.12">Proposição 2.6.12</a>, vamos contar o número de caminhos da origem até o ponto \(B(n-3, m+3)\text{.}\) Este número é<div class="displaymath">
\begin{equation*}
PR_{m+n}^{n-3, m+3}=\frac{(m+n)!}{(n-3)!(m+3)!}=C_{m+n}^{m+3}.
\end{equation*}
</div>Agora, basta multiplicar o número anterior pelo número de maneiras de ordenar as pessoas. Portanto, a resposta é<div class="displaymath">
\begin{equation*}
m!\times n! \times C_{m+n}^{m+3}.
\end{equation*}
</div>
</li>
</ol></div></div></article><article class="remark remark-like" id="remark-8"><h6 class="heading">
<span class="type">Observação</span><span class="space"> </span><span class="codenumber">2.6.28</span><span class="period">.</span>
</h6>
<p id="p-924">O princípio da reflexão, também é conhecido como "O princípio da reflexão de André" (Andre's reflection principle), devido a sua utilização na solução do Problema da Eleição ("The Ballot Problem"). O qual enunciamos abaixo. Esse princípio possui várias generalizações e ainda pesquisado atualmente, o que pode ser visto em <a class="xref" data-knowl="./knowl/Goulden.html" title="[biblio] 6.19: Maintaining the spirit of the reflection principle when the boundary has arbitrary integer slope.">[6.19]</a> e <a class="xref" data-knowl="./knowl/Loehr.html" title="[biblio] 6.20: Note on André's reflection principle.">[6.20]</a>.</p></article><article class="exercise exercise-like" id="ex-candidatos"><h6 class="heading"><span class="codenumber">5<span class="period">.</span></span></h6>
<p id="p-925">Em uma eleição há dois candidatos A e B. Se o candidato \(A\) teve \(a\) votos e o candidato \(B\) teve \(b\) votos com \(a&gt;b.\) Quantas são as marchas de apuração:</p>
<ol class="lower-alpha">
<li id="li-229">Possíveis?</li>
<li id="li-230">Nas quais o candidato \(A\) permanece sempre em vantagem ou empatado com o candidato \(B\text{?}\)</li>
<li id="li-231">Nas quais o candidato \(A\) permanece sempre em vantagem em relação ao candidato \(B\text{?}\)</li>
</ol>
<a data-knowl="" class="id-ref answer-knowl original" data-refid="hk-answer-116" id="answer-116"><span class="type">Resposta</span></a><div class="hidden-content tex2jax_ignore" id="hk-answer-116"><div class="answer solution-like"><ol id="p-926" class="lower-alpha">
<li id="li-232">\(\displaystyle PR_{a+b}^{a, b}\)</li>
<li id="li-233">\(\displaystyle \frac{a-b+1}{a+1}C_{a+b}^a\)</li>
<li id="li-234">\(\displaystyle \frac{a-b}{b}\cdot C_{a+b-1}^a\)</li>
</ol></div></div>
<a data-knowl="" class="id-ref solution-knowl original" data-refid="hk-solution-170" id="solution-170"><span class="type">Solução</span></a><div class="hidden-content tex2jax_ignore" id="hk-solution-170"><div class="solution solution-like"><ol id="p-927" class="lower-alpha">
<li id="li-235">O número de marchas possíveis é dado por \(PR_{a+b}^{a, b}\text{.}\)</li>
<li id="li-236">O número de marchas, na qual o cadidato \(A\) permanece sempre em vantagem ou empatado com o candidato \(B\) é dado pelo número de caminhos bons da origem até o ponto \(P(a,b)\text{,}\) ou seja, é<div class="displaymath">
\begin{equation*}
\frac{a-b+1}{a+1}C_{a+b}^a.
\end{equation*}
</div>
</li>
<li id="li-237">Usando a ideia do <a class="xref" data-knowl="./knowl/exer-pr-y=x.html" title="Exercício 2.6.4.3">Exercício 2.6.4.3</a>, o número de marchas, na qual o cadidato \(A\) permanece sempre em vantagem em relação o candidato \(B\) é dado pelo número de caminhos bons do ponto \(P(1,0)\) até o ponto \(Q(a,b)\text{,}\) sem que o caminho toque na reta \(y=x\text{.}\) Pelo <a class="xref" data-knowl="./knowl/exer-pr-y=x.html" title="Exercício 2.6.4.3">Exercício 2.6.4.3</a>, a resposta é<div class="displaymath">
\begin{equation*}
\frac{a-b}{b}\cdot C_{a+b-1}^a.
\end{equation*}
</div>
</li>
</ol></div></div></article><article class="exercise exercise-like" id="exercise-122"><h6 class="heading"><span class="codenumber">6<span class="period">.</span></span></h6>
<p id="p-928">Mostre que o número de Catalan, \(C_n\text{,}\) conta o número de expressões contendo \(n\) pares de parenteses que estão corretamente emparelhados. Por exemplo, para \(n=3\text{,}\)</p>
<div class="displaymath">
\begin{equation*}
((())), \quad (()()), \quad (())(), \quad ()(()), \quad ()()(). 
\end{equation*}
</div>
<a data-knowl="" class="id-ref solution-knowl original" data-refid="hk-solution-171" id="solution-171"><span class="type">Solução</span></a><div class="hidden-content tex2jax_ignore" id="hk-solution-171"><div class="solution solution-like">
<p id="p-929">No <a class="xref" data-knowl="./knowl/ex-dyckway.html" title="Exemplo 2.6.20">Exemplo 2.6.20</a>, mostramos que o número de caminhos de Dyck, de comprimento \(2n\text{,}\) é dado por \(C_n\text{.}\) É suficiente exibir uma correspondência biunívoca entre os caminhos de Dyck e as expressões contendo \(n\) pares de parenteses que estão corretamente emparelhados.</p>
<p id="p-930">Para cada caminho de Dyck, cada vez que o passo for de \((m,n)\) para \((m+1, n+1)\text{,}\) abra um parêntese e cada vez que o passo for de \((m,n)\) para \((m+1, n-1)\) feche um parêntese. Dessa maneira, como os caminhos de Dyck não cruzam o eixo \(x\text{,}\) em cada expressão correspondente, a quantidade de parênteses abrindo será maior ou igual que a quantidade de parênteses fechando. Além disso, o ponto inicial e o ponto final dos caminhos de Dyck estão separados por de \(2n\) passos e estão no eixo \(x\text{,}\) portanto a expressão correspondente conterá \(n\) pares de parênteses corretamente emparelhados.</p>
<p id="p-931">Reciprocamente, para cada expressão corretamente emparelhada contendo \(n\) pares de parênteses, fazendo a leitura da esquerda para a direita da expressão dada, construa o caminho de Dyck correspondente da seguinte maneira: Dê um passo de \((m,n)\) para \((m+1, n+1)\text{,}\) sempre que houver um parêntese abrindo, e dê um passo de \((m,n)\) para \((m+1, n-1)\text{,}\) sempre que houver um parêntese fechando. Assim, como a quantidade de parênteses abrindo é sempre maior ou igual que a quantidade de parênteses fechando, o caminho construído sempre ficará acima do eixo \(x\text{.}\) O primeiro parêntese será do tipo "(", garantindo que o primeiro passo seja de \((0,0)\) para \((1,1)\text{.}\) Como as expressões estão corretamente emparelhadas e contêm \(n\) pares de parênteses, o último parêntese será do tipo ")" e o caminho correspondente chegará no ponto \((2n,0)\text{.}\)</p>
<p id="p-932"><dfn class="terminology">Observação:</dfn> No Sage, a lista contendo todas as expressões de \(n\) pares de parênteses corretamente emparelhados pode ser gerada com o método \(\verb|DyckWords|\text{.}\) Para exibir a representação em parênteses, basta usar o método \(\verb|print|\text{:}\)</p>
<div class="hidden-sagecell-sage" id="sage-42"><script type="text/x-sage">for dw in DyckWords(3):
    print(dw)
</script></div>
</div></div></article></section></section></div></main>
</div>
</body>
</html>
